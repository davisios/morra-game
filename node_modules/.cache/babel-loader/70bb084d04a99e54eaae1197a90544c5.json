{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport ethers from 'ethers';\nimport { checkedBigNumberify } from './shared_backend.mjs';\nimport { j2s, labelMaps, hasProp } from './shared_impl.mjs';\nvar BigNumber = ethers.BigNumber;\nexport var bigNumberify = function (x) {\n  var xp = typeof x === 'number' ? x.toString() : x;\n  return BigNumber.from(xp);\n};\nexport var bigNumberToNumber = function (x) {\n  return bigNumberify(x).toNumber();\n};\n;\nexport var BV_Null = null;\nexport var BT_Null = {\n  name: 'Null',\n  defaultValue: BV_Null,\n  canonicalize: function (val) {\n    // Doesn't check with triple eq; we're being lenient here\n    if (val != null) {\n      throw Error(\"Expected null, but got \".concat(j2s(val)));\n    }\n\n    return BV_Null;\n  }\n};\nexport var BT_Bool = {\n  name: 'Bool',\n  defaultValue: false,\n  canonicalize: function (val) {\n    if (typeof val !== 'boolean') {\n      throw Error(\"Expected boolean, but got \".concat(j2s(val)));\n    }\n\n    return val;\n  }\n};\nexport var BV_Bool = function (val) {\n  return BT_Bool.canonicalize(val);\n};\nexport var BT_UInt = function (max) {\n  return {\n    name: 'UInt',\n    defaultValue: ethers.BigNumber.from(0),\n    canonicalize: function (uv) {\n      try {\n        // Note: going through toString handles a lot of numeric representations\n        // that BigNumber doesn't handle automatically.\n        var uvs = // @ts-ignore\n        (uv === null || uv === void 0 ? void 0 : uv.type) === 'BigNumber' ? uv : // @ts-ignore\n        typeof (uv === null || uv === void 0 ? void 0 : uv.toString) === 'function' ? uv.toString() :\n        /* else */\n        uv;\n        return checkedBigNumberify('stdlib:CBR:BT_UInt', max, uvs);\n      } catch (e) {\n        if (typeof uv === 'string') {\n          throw Error(\"String does not represent a BigNumber. \".concat(j2s(uv)));\n        }\n\n        throw e;\n      }\n    }\n  };\n};\nexport var BV_UInt = function (val, max) {\n  return BT_UInt(max).canonicalize(val);\n};\nexport var BT_Bytes = function (len) {\n  return {\n    name: \"Bytes(\".concat(len, \")\"),\n    defaultValue: ''.padEnd(len, '\\0'),\n    canonicalize: function (val) {\n      var lenn = bigNumberToNumber(len);\n\n      if (typeof val !== 'string') {\n        throw Error(\"Bytes expected string, but got \".concat(j2s(val)));\n      }\n\n      var checkLen = function (label, alen, fill) {\n        if (val.length > alen) {\n          throw Error(\"Bytes(\".concat(len, \") must be a \").concat(label, \"string less than or equal to \").concat(alen, \", but given \").concat(label, \"string of length \").concat(val.length));\n        }\n\n        return val.padEnd(alen, fill);\n      };\n\n      if (val.slice(0, 2) === '0x') {\n        return checkLen('hex ', lenn * 2 + 2, '0');\n      } else {\n        return checkLen('', lenn, '\\0');\n      }\n    }\n  };\n}; // TODO: check digest length, or something similar?\n// That's probably best left to connector-specific code.\n\nexport var BT_Digest = {\n  name: 'Digest',\n  defaultValue: ''.padEnd(32, '\\0'),\n  canonicalize: function (val) {\n    if (typeof val !== 'string') {\n      throw Error(\"\".concat(j2s(val), \" is not a valid digest\"));\n    }\n\n    return val;\n  }\n};\n/** @description You probably don't want to create a BV_Digest manually. */\n\nexport var BV_Digest = function (val) {\n  return BT_Digest.canonicalize(val);\n};\nexport var BT_Address = {\n  name: 'Address',\n  defaultValue: ''.padEnd(32, '\\0'),\n  canonicalize: function (val) {\n    if (typeof val !== 'string') {\n      throw Error(\"Address must be a string, but got: \".concat(j2s(val)));\n    } else if (val.slice(0, 2) !== '0x') {\n      throw Error(\"Address must start with 0x, but got: \".concat(j2s(val)));\n    } else if (!ethers.utils.isHexString(val)) {\n      throw Error(\"Address must be a valid hex string, but got: \".concat(j2s(val)));\n    }\n\n    return val;\n  }\n}; // XXX: don't use this. Use net-specific ones\n\nexport var BV_Address = function (val) {\n  return BT_Address.canonicalize(val);\n};\nexport var BT_Array = function (ctc, size) {\n  // TODO: check ctc, sz for sanity\n  return {\n    name: \"Array(\".concat(ctc.name, \", \").concat(size, \")\"),\n    defaultValue: Array(size).fill(ctc.defaultValue),\n    canonicalize: function (args) {\n      if (!Array.isArray(args)) {\n        throw Error(\"Expected an Array, but got \".concat(j2s(args)));\n      }\n\n      if (size != args.length) {\n        throw Error(\"Expected array of length \".concat(size, \", but got \").concat(args.length));\n      }\n\n      var parr = new Array(size);\n\n      for (var i = 0; i < size; i++) {\n        parr[i] = ctc.canonicalize(args[i]);\n      }\n\n      return parr;\n    }\n  };\n}; // Note: curried\n\n/** @example BV_Array(BT_UInt, 3)([1, 2, 3]) */\n\nexport var BV_Array = function (ctc, size) {\n  return function (val) {\n    return BT_Array(ctc, size).canonicalize(val);\n  };\n};\nexport var BT_Tuple = function (ctcs) {\n  // TODO: check ctcs for sanity\n  return {\n    name: \"Tuple(\".concat(ctcs.map(function (ctc) {\n      return \" \".concat(ctc.name, \" \");\n    }), \")\"),\n    defaultValue: ctcs.map(function (ctc) {\n      return ctc.defaultValue;\n    }),\n    canonicalize: function (args) {\n      if (!Array.isArray(args)) {\n        throw Error(\"Expected a Tuple, but got \".concat(j2s(args)));\n      }\n\n      if (ctcs.length != args.length) {\n        throw Error(\"Expected tuple of size \".concat(ctcs.length, \", but got \").concat(args.length));\n      }\n\n      var val = args.map(function (arg, i) {\n        return ctcs[i].canonicalize(arg);\n      });\n      return val;\n    }\n  };\n}; // Note: curried\n\n/** @example BV_Tuple([BT_UInt, BT_Bytes])([42, 'hello']) */\n\nexport var BV_Tuple = function (ctcs) {\n  return function (val) {\n    return BT_Tuple(ctcs).canonicalize(val);\n  };\n};\nexport var BT_Struct = function (ctcs) {\n  return {\n    name: \"Struct([\".concat(ctcs.map(function (_a) {\n      var _b = __read(_a, 2),\n          k = _b[0],\n          ctc = _b[1];\n\n      return \" [\".concat(k, \", \").concat(ctc.name, \"] \");\n    }), \"])\"),\n    defaultValue: function () {\n      var obj = {};\n      ctcs.forEach(function (_a) {\n        var _b = __read(_a, 2),\n            prop = _b[0],\n            co = _b[1];\n\n        obj[prop] = co.defaultValue;\n      });\n      return obj;\n    }(),\n    canonicalize: function (arg) {\n      var obj = {};\n      ctcs.forEach(function (_a, i) {\n        var _b = __read(_a, 2),\n            k = _b[0],\n            ctc = _b[1];\n\n        obj[k] = ctc.canonicalize(Array.isArray(arg) ? arg[i] : arg[k]);\n      });\n      return obj;\n    }\n  };\n};\nexport var BV_Struct = function (ctcs) {\n  return function (val) {\n    return BT_Struct(ctcs).canonicalize(val);\n  };\n};\nexport var BT_Object = function (co) {\n  // TODO: check co for sanity\n  return {\n    name: \"Object(\".concat(Object.keys(co).map(function (k) {\n      return \" \".concat(k, \": \").concat(co[k].name, \" \");\n    }), \")\"),\n    defaultValue: function () {\n      var obj = {};\n\n      for (var prop in co) {\n        obj[prop] = co[prop].defaultValue;\n      }\n\n      return obj;\n    }(),\n    canonicalize: function (vo) {\n      if (typeof vo !== 'object') {\n        throw Error(\"Expected object, but got \".concat(j2s(vo)));\n      }\n\n      var obj = {};\n\n      for (var prop in co) {\n        if (!hasProp(vo, prop)) {\n          throw Error(\"Expected prop \".concat(prop, \", but didn't find it in \").concat(Object.keys(vo)));\n        }\n\n        obj[prop] = co[prop].canonicalize(vo[prop]);\n      }\n\n      return obj;\n    }\n  };\n}; // Note: curried\n\n/** @example BV_Object({x: BT_UInt})({x: 3}) */\n\nexport var BV_Object = function (co) {\n  return function (val) {\n    return BT_Object(co).canonicalize(val);\n  };\n};\nexport var BT_Data = function (co) {\n  // TODO: check co for sanity\n  var ascLabels = labelMaps(co).ascLabels;\n  return {\n    name: \"Data(\".concat(Object.keys(co).map(function (k) {\n      return \" \".concat(k, \": \").concat(co[k].name, \" \");\n    }), \")\"),\n    defaultValue: function () {\n      var label = ascLabels[0];\n      return [label, co[label].defaultValue]; // return {ty, val: [label, co[label].defaultValue]};\n    }(),\n    canonicalize: function (io) {\n      if (!(Array.isArray(io) && io.length == 2 && typeof io[0] == 'string')) {\n        throw Error(\"Expected an array of length two to represent a data instance, but got \".concat(j2s(io)));\n      }\n\n      var vn = io[0];\n\n      if (!hasProp(co, vn)) {\n        throw Error(\"Expected a variant in \".concat(Object.keys(co), \", but got \").concat(vn));\n      }\n\n      return [vn, co[vn].canonicalize(io[1])];\n    }\n  };\n};\n/** @example BV_Data({x: BT_UInt, y: BT_Bytes})(['x', 3]); */\n\nexport var BV_Data = function (co) {\n  return function (val) {\n    return BT_Data(co).canonicalize(val);\n  };\n};","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","ethers","checkedBigNumberify","j2s","labelMaps","hasProp","BigNumber","bigNumberify","x","xp","toString","from","bigNumberToNumber","toNumber","BV_Null","BT_Null","name","defaultValue","canonicalize","val","Error","concat","BT_Bool","BV_Bool","BT_UInt","max","uv","uvs","type","BV_UInt","BT_Bytes","len","padEnd","lenn","checkLen","label","alen","fill","length","slice","BT_Digest","BV_Digest","BT_Address","utils","isHexString","BV_Address","BT_Array","ctc","size","Array","args","isArray","parr","BV_Array","BT_Tuple","ctcs","map","arg","BV_Tuple","BT_Struct","_a","_b","k","obj","forEach","prop","co","BV_Struct","BT_Object","Object","keys","vo","BV_Object","BT_Data","ascLabels","io","vn","BV_Data"],"sources":["/Users/david/reach/morra/morraUI/node_modules/@reach-sh/stdlib/CBR.mjs"],"sourcesContent":["var __read = (this && this.__read) || function(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r, ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) { e = { error: error }; } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally { if (e) throw e.error; }\n  }\n  return ar;\n};\nimport ethers from 'ethers';\nimport { checkedBigNumberify } from './shared_backend.mjs';\nimport { j2s, labelMaps, hasProp } from './shared_impl.mjs';\nvar BigNumber = ethers.BigNumber;\nexport var bigNumberify = function(x) {\n  var xp = typeof x === 'number' ? x.toString() : x;\n  return BigNumber.from(xp);\n};\nexport var bigNumberToNumber = function(x) {\n  return bigNumberify(x).toNumber();\n};;\nexport var BV_Null = null;\nexport var BT_Null = {\n  name: 'Null',\n  defaultValue: BV_Null,\n  canonicalize: function(val) {\n    // Doesn't check with triple eq; we're being lenient here\n    if (val != null) {\n      throw Error(\"Expected null, but got \".concat(j2s(val)));\n    }\n    return BV_Null;\n  }\n};\nexport var BT_Bool = {\n  name: 'Bool',\n  defaultValue: false,\n  canonicalize: function(val) {\n    if (typeof(val) !== 'boolean') {\n      throw Error(\"Expected boolean, but got \".concat(j2s(val)));\n    }\n    return val;\n  }\n};\nexport var BV_Bool = function(val) {\n  return BT_Bool.canonicalize(val);\n};\nexport var BT_UInt = function(max) {\n  return ({\n    name: 'UInt',\n    defaultValue: ethers.BigNumber.from(0),\n    canonicalize: function(uv) {\n      try {\n        // Note: going through toString handles a lot of numeric representations\n        // that BigNumber doesn't handle automatically.\n        var uvs =\n          // @ts-ignore\n          (uv === null || uv === void 0 ? void 0 : uv.type) === 'BigNumber' ? uv :\n          // @ts-ignore\n          typeof(uv === null || uv === void 0 ? void 0 : uv.toString) === 'function' ? uv.toString() :\n          /* else */\n          uv;\n        return checkedBigNumberify('stdlib:CBR:BT_UInt', max, uvs);\n      } catch (e) {\n        if (typeof(uv) === 'string') {\n          throw Error(\"String does not represent a BigNumber. \".concat(j2s(uv)));\n        }\n        throw e;\n      }\n    }\n  });\n};\nexport var BV_UInt = function(val, max) {\n  return BT_UInt(max).canonicalize(val);\n};\nexport var BT_Bytes = function(len) {\n  return ({\n    name: \"Bytes(\".concat(len, \")\"),\n    defaultValue: ''.padEnd(len, '\\0'),\n    canonicalize: function(val) {\n      var lenn = bigNumberToNumber(len);\n      if (typeof(val) !== 'string') {\n        throw Error(\"Bytes expected string, but got \".concat(j2s(val)));\n      }\n      var checkLen = function(label, alen, fill) {\n        if (val.length > alen) {\n          throw Error(\"Bytes(\".concat(len, \") must be a \").concat(label, \"string less than or equal to \").concat(alen, \", but given \").concat(label, \"string of length \").concat(val.length));\n        }\n        return val.padEnd(alen, fill);\n      };\n      if (val.slice(0, 2) === '0x') {\n        return checkLen('hex ', lenn * 2 + 2, '0');\n      } else {\n        return checkLen('', lenn, '\\0');\n      }\n    }\n  });\n};\n// TODO: check digest length, or something similar?\n// That's probably best left to connector-specific code.\nexport var BT_Digest = {\n  name: 'Digest',\n  defaultValue: ''.padEnd(32, '\\0'),\n  canonicalize: function(val) {\n    if (typeof val !== 'string') {\n      throw Error(\"\".concat(j2s(val), \" is not a valid digest\"));\n    }\n    return val;\n  }\n};\n/** @description You probably don't want to create a BV_Digest manually. */\nexport var BV_Digest = function(val) {\n  return BT_Digest.canonicalize(val);\n};\nexport var BT_Address = ({\n  name: 'Address',\n  defaultValue: ''.padEnd(32, '\\0'),\n  canonicalize: function(val) {\n    if (typeof val !== 'string') {\n      throw Error(\"Address must be a string, but got: \".concat(j2s(val)));\n    } else if (val.slice(0, 2) !== '0x') {\n      throw Error(\"Address must start with 0x, but got: \".concat(j2s(val)));\n    } else if (!ethers.utils.isHexString(val)) {\n      throw Error(\"Address must be a valid hex string, but got: \".concat(j2s(val)));\n    }\n    return val;\n  }\n});\n// XXX: don't use this. Use net-specific ones\nexport var BV_Address = function(val) {\n  return BT_Address.canonicalize(val);\n};\nexport var BT_Array = function(ctc, size) {\n  // TODO: check ctc, sz for sanity\n  return {\n    name: \"Array(\".concat(ctc.name, \", \").concat(size, \")\"),\n    defaultValue: Array(size).fill(ctc.defaultValue),\n    canonicalize: function(args) {\n      if (!Array.isArray(args)) {\n        throw Error(\"Expected an Array, but got \".concat(j2s(args)));\n      }\n      if (size != args.length) {\n        throw Error(\"Expected array of length \".concat(size, \", but got \").concat(args.length));\n      }\n      var parr = new Array(size);\n      for (var i = 0; i < size; i++) {\n        parr[i] = ctc.canonicalize(args[i]);\n      }\n      return parr;\n    }\n  };\n};\n// Note: curried\n/** @example BV_Array(BT_UInt, 3)([1, 2, 3]) */\nexport var BV_Array = function(ctc, size) {\n  return function(val) {\n    return BT_Array(ctc, size).canonicalize(val);\n  };\n};\nexport var BT_Tuple = function(ctcs) {\n  // TODO: check ctcs for sanity\n  return {\n    name: \"Tuple(\".concat(ctcs.map(function(ctc) { return \" \".concat(ctc.name, \" \"); }), \")\"),\n    defaultValue: ctcs.map(function(ctc) { return ctc.defaultValue; }),\n    canonicalize: function(args) {\n      if (!Array.isArray(args)) {\n        throw Error(\"Expected a Tuple, but got \".concat(j2s(args)));\n      }\n      if (ctcs.length != args.length) {\n        throw Error(\"Expected tuple of size \".concat(ctcs.length, \", but got \").concat(args.length));\n      }\n      var val = args.map(function(arg, i) { return ctcs[i].canonicalize(arg); });\n      return val;\n    }\n  };\n};\n// Note: curried\n/** @example BV_Tuple([BT_UInt, BT_Bytes])([42, 'hello']) */\nexport var BV_Tuple = function(ctcs) {\n  return function(val) {\n    return BT_Tuple(ctcs).canonicalize(val);\n  };\n};\nexport var BT_Struct = function(ctcs) {\n  return {\n    name: \"Struct([\".concat(ctcs.map(function(_a) {\n      var _b = __read(_a, 2),\n        k = _b[0],\n        ctc = _b[1];\n      return \" [\".concat(k, \", \").concat(ctc.name, \"] \");\n    }), \"])\"),\n    defaultValue: (function() {\n      var obj = {};\n      ctcs.forEach(function(_a) {\n        var _b = __read(_a, 2),\n          prop = _b[0],\n          co = _b[1];\n        obj[prop] = co.defaultValue;\n      });\n      return obj;\n    })(),\n    canonicalize: function(arg) {\n      var obj = {};\n      ctcs.forEach(function(_a, i) {\n        var _b = __read(_a, 2),\n          k = _b[0],\n          ctc = _b[1];\n        obj[k] = ctc.canonicalize(Array.isArray(arg) ? arg[i] : arg[k]);\n      });\n      return obj;\n    }\n  };\n};\nexport var BV_Struct = function(ctcs) {\n  return function(val) {\n    return BT_Struct(ctcs).canonicalize(val);\n  };\n};\nexport var BT_Object = function(co) {\n  // TODO: check co for sanity\n  return {\n    name: \"Object(\".concat(Object.keys(co).map(function(k) { return \" \".concat(k, \": \").concat(co[k].name, \" \"); }), \")\"),\n    defaultValue: (function() {\n      var obj = {};\n      for (var prop in co) {\n        obj[prop] = co[prop].defaultValue;\n      }\n      return obj;\n    })(),\n    canonicalize: function(vo) {\n      if (typeof(vo) !== 'object') {\n        throw Error(\"Expected object, but got \".concat(j2s(vo)));\n      }\n      var obj = {};\n      for (var prop in co) {\n        if (!hasProp(vo, prop)) {\n          throw Error(\"Expected prop \".concat(prop, \", but didn't find it in \").concat(Object.keys(vo)));\n        }\n        obj[prop] = co[prop].canonicalize(vo[prop]);\n      }\n      return obj;\n    }\n  };\n};\n// Note: curried\n/** @example BV_Object({x: BT_UInt})({x: 3}) */\nexport var BV_Object = function(co) {\n  return function(val) {\n    return BT_Object(co).canonicalize(val);\n  };\n};\nexport var BT_Data = function(co) {\n  // TODO: check co for sanity\n  var ascLabels = labelMaps(co).ascLabels;\n  return {\n    name: \"Data(\".concat(Object.keys(co).map(function(k) { return \" \".concat(k, \": \").concat(co[k].name, \" \"); }), \")\"),\n    defaultValue: (function() {\n      var label = ascLabels[0];\n      return [label, co[label].defaultValue];\n      // return {ty, val: [label, co[label].defaultValue]};\n    })(),\n    canonicalize: function(io) {\n      if (!(Array.isArray(io) && io.length == 2 && typeof io[0] == 'string')) {\n        throw Error(\"Expected an array of length two to represent a data instance, but got \".concat(j2s(io)));\n      }\n      var vn = io[0];\n      if (!hasProp(co, vn)) {\n        throw Error(\"Expected a variant in \".concat(Object.keys(co), \", but got \").concat(vn));\n      }\n      return [vn, co[vn].canonicalize(io[1])];\n    }\n  };\n};\n/** @example BV_Data({x: BT_UInt, y: BT_Bytes})(['x', 3]); */\nexport var BV_Data = function(co) {\n  return function(val) {\n    return BT_Data(co).canonicalize(val);\n  };\n};\n//# sourceMappingURL=CBR.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}